@import "./fonts/Satoshi.css";
@import "./tokens.css";
@import "./accordion.css";
@import "./badge.css";
@import "./button.css";
@import "./checkbox.css";
@import "./confirm-dialog.css";
@import "./date-picker.css";
@import "./grid.css";
@import "./menu-bar.css";
@import "./message-input.css";
@import "./message-list.css";
@import "./notifications.css";
@import "./progress-bar.css";
@import "./radio-button.css";
@import "./select.css";
@import "./side-nav.css";
@import "./tabs.css";
@import "./text-input.css";
@import "./typography.css";

html {
  background: var(--bg);
  background-attachment: fixed;
  height: 100vh;
  /* background: url(bg.png), hsl(var(--base-h) var(--base-s) var(--base-l));
  background-blend-mode: overlay;
  background-size: cover;
  overflow: hidden; */
}

:focus-visible {
  outline-color: var(--vaadin-focus-ring-color);
  outline-width: var(--vaadin-focus-ring-width);
}

/* TODO seems like a bug in Flow */
vaadin-connection-indicator:not([offline]) {
  pointer-events: none;
}

.v-status-message {
  box-sizing: border-box;
}

/* TODO this is mainly intended for field labels */
:not(vaadin-button, vaadin-menu-bar-button, vaadin-select-value-button)::part(label) {
  color: inherit;
}

::part(overlay) {
  background: var(--view-glow), hsl(var(--base-h) var(--base-s) max(calc(var(--base-l) + 7%), 8%));
  box-shadow: inset 0 0.5px 0 0 var(--lumo-tint-5pct), inset 0 0 0 0.5px var(--lumo-tint-10pct), 0 0 0 1px var(--lumo-shade-5pct), var(--lumo-box-shadow-l);
  -webkit-backdrop-filter: blur(var(--blur-radius));
  backdrop-filter: blur(var(--blur-radius));
  font-weight: inherit;
}

vaadin-item::part(content),
vaadin-menu-bar-item::part(content),
vaadin-context-menu-item::part(content),
vaadin-select-item::part(content),
vaadin-combo-box-item::part(content),
vaadin-multi-select-combo-box-item::part(content) {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-weight: 550;
}

vaadin-select.minimal {
  --vaadin-input-field-border-width: 0px;
  --vaadin-input-field-background: transparent;
}

vaadin-menu-bar.icon-only vaadin-menu-bar-item> :not(vaadin-icon) {
  display: none;
}

vaadin-avatar::part(abbr) {
  font-weight: 650;
}

vaadin-dialog-overlay::part(header),
vaadin-dialog-overlay::part(footer) {
  background: transparent;
}

/* :is(vaadin-select-overlay, vaadin-context-menu-overlay, vaadin-menu-bar-overlay, vaadin-combo-box-overlay, vaadin-multi-select-combo-box-overlay, vaadin-time-picker-overlay) :is([role=menuitem], [role=option]):is(:hover, [expanded]),
vaadin-item:hover {
  background-color: var(--lumo-contrast-10pct);
} */

@media (prefers-reduced-motion) {

  :is([opening], [closing]),
  :is([opening], [closing])::part(overlay) {
    animation: none;
  }

  vaadin-dialog-overlay:is([opening], [closing]),
  vaadin-dialog-overlay:is([opening], [closing])::part(overlay) {
    animation: none;
  }
}

vaadin-tooltip-overlay {
  /* TODO should probably be the default style. Without this, tooltips close to the viewport edge can get scrollbars. */
  inset: 0;
}

vaadin-tooltip-overlay::part(overlay) {
  font-weight: 500;
}

vaadin-icon.small {
  width: var(--lumo-icon-size-s);
  height: var(--lumo-icon-size-s);
}

@media (max-width: 420px), (max-height: 420px) {
  :is(vaadin-context-menu-overlay, vaadin-menu-bar-overlay, vaadin-select-overlay)::part(overlay) {
    max-height: 80vh;
  }
}

vaadin-grid:not([theme~=no-border]),
vaadin-rich-text-editor:not([theme~=no-border]) {
  border-radius: var(--lumo-border-radius-m);
  overflow: hidden;
  border-color: var(--lumo-contrast-10pct);
}

vaadin-context-menu {
  display: contents;
}

vaadin-date-time-picker vaadin-date-picker {
  margin-inline-end: calc(var(--vaadin-input-field-border-width) * -1);
  position: relative;
}

vaadin-date-time-picker vaadin-date-picker::after {
  content: "";
  position: absolute;
  height: 100%;
  width: var(--vaadin-input-field-border-width);
  background: var(--lumo-base-color);
  inset-inline-end: 0;
}

/* TODO tab key travels through dev-tools even though it's hidden */
vaadin-dev-tools {
  display: none;
}

.star-filled {
  color: rgb(224, 190, 0) !important;
}

hr {
  margin: 0;
}

:is(vaadin-menu-bar-overlay, vaadin-context-menu-overlay, vaadin-select-overlay) hr {
  margin: var(--lumo-space-s) var(--lumo-space-xs);
}

.boxed-icon {
  padding: var(--lumo-space-m);
  box-sizing: content-box;
  background-color: var(--lumo-contrast-10pct);
  border-radius: var(--lumo-border-radius-s);
}

nav.sidebar {
  padding: 0 var(--lumo-space-xs);
}

nav.sidebar>header,
nav.sidebar>header>span {
  display: block;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  min-width: 0;
}

nav.sidebar>header {
  font-weight: 700;
  font-size: var(--lumo-font-size-l);
  min-height: var(--lumo-size-m);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 4px; /* Room for focus outlines on buttons */
  padding-bottom: var(--lumo-space-s);
  padding-inline-start: var(--lumo-space-s);
  margin-top: -4px;
  margin-inline-end: -4px;
}

nav.sidebar>vaadin-side-nav {
  margin-bottom: var(--lumo-space-s);
}
